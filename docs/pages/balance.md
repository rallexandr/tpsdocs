# 3. Баланс партнера

## 3.1 Работа с балансом партнера

Каждый участник системы TPS проводит операции в рамках своего  депозита. Депозит партнера отражает баланс доступных денежных средств для проведения переводов. Партнер может совершать переводы до тех пор пока баланс не меньше суммы стоимости  перевода (clearing_amount). В текущей версии депозит возможен только в MDL. 

При совершение операции перевода используються термины: 
Transfer amount - сумма, которую получит бенефициар при успешном осуществлении перевода.

**Clearing amount** - включает в себя, помимо Transfer amount, комиссию за осуществление перевода. 
Сумма сlearing_amount замораживается при регистрации перевода и будет снята с баланса партнера при успешном осуществлении перевода (перевод получил статус ”process” или “success”).  Если транзакция не успешная, то clearing_amount возвращается на баланс партнера.

</br>

## 3.2 Получение баланса партнера

### GetBalance

|                                 |Value                                   |
|---------------------------------|----------------------------------------|
|**HTTPS Method**              |GET                |
|**Endpoint**          |{{Base URL}}/api/balance    |
|**Headers**|25A9C2D0-D2DC-4FA8-95FE-2253DE1BBE2D    |
|           |TPS_API_REQUEST_ID - ID запроса (numeric)  |
|           |TPS_API_SIGN - подпись аутентификации  |


**Описание:**

Запрос позволяет партнеру получать текущее состояние баланса.
```json
{
    "currency": "MDL",
    "value": 34534,
    "status": "active",
    "overdraft_used": false,
    "overdraft_value": 0
}
```
</br>

**Параметры ответа:**

|                              Код|Описание                                |Пример                                  |Тип   |
|---------------------------------|----------------------------------------|----------------------------------------|------| 
|currency                         |Код бвалюты баланса                     |MDL                                     |String|
|value|Баланс в монетах|50000 (500.00 MDL)|Long|
|status|Статус баланса|active|String|
|overdraft_used|Возможность использования овердрафта|true / false|Boolean|
|overdraft_value|Величина овердрафта|0|Long|

</br>

